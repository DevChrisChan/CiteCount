<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Cookie Consent Test</title>
    <link href="/v2/style.css" rel="stylesheet">
    <style>
        body {
            padding: 20px;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }
        .test-controls {
            background: #f5f5f5;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        .test-controls button {
            margin: 5px;
            padding: 10px 15px;
            background: #007bff;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        .test-controls button:hover {
            background: #0056b3;
        }
        .status {
            margin: 10px 0;
            padding: 10px;
            border-radius: 4px;
        }
        .status.granted {
            background: #d4edda;
            color: #155724;
        }
        .status.denied {
            background: #f8d7da;
            color: #721c24;
        }
    </style>
</head>
<body>
    <h1>Cookie Consent Test Page</h1>
    
    <div class="test-controls">
        <h2>Test Controls</h2>
        <button onclick="window.cookieConsent?.revokeConsent()">Reset Consent (Show Banner)</button>
        <button onclick="window.cookieConsent?.showSettings()">Show Cookie Settings</button>
        <button onclick="checkConsentStatus()">Check Current Status</button>
        <button onclick="clearAllData()">Clear All Data</button>
    </div>

    <div id="consent-status">
        <h2>Current Consent Status</h2>
        <div id="status-display">
            Click "Check Current Status" to see the current consent settings.
        </div>
    </div>

    <!-- Include the cookie consent elements -->
    <!-- Cookie Consent Banner -->
    <div id="cookie-consent-banner" class="cookie-consent-banner" style="display: none;">
        <div class="cookie-content">
            <div class="cookie-icon">
                <svg viewBox="0 0 24 24" fill="currentColor" style="width: 20px; height: 20px;">
                    <circle cx="12" cy="12" r="10"/>
                    <circle cx="8" cy="8" r="1"/>
                    <circle cx="16" cy="8" r="1"/>
                    <circle cx="8" cy="16" r="1"/>
                    <circle cx="16" cy="16" r="1"/>
                    <circle cx="12" cy="14" r="1"/>
                    <circle cx="10" cy="10" r="1"/>
                    <circle cx="14" cy="10" r="1"/>
                </svg>
            </div>
            <div class="cookie-text">
                <h4>We use cookies</h4>
                <p>We use cookies and similar technologies to improve your experience, personalize content, and provide analytics. This helps us serve relevant ads and improve our services. By continuing to use this site, you consent to our use of cookies.</p>
                <div class="cookie-links">
                    <a href="/privacy-policy.html" target="_blank">Privacy Policy</a>
                    <a href="/terms-of-service.html" target="_blank">Terms of Service</a>
                </div>
            </div>
            <div class="cookie-actions">
                <button id="cookie-accept-all" class="cookie-btn primary">Accept All</button>
                <button id="cookie-reject" class="cookie-btn secondary">Reject Non-Essential</button>
                <button id="cookie-settings" class="cookie-btn text">Cookie Settings</button>
            </div>
        </div>
    </div>

    <!-- Cookie Settings Modal -->
    <div id="cookie-settings-modal" class="cookie-settings-modal" style="display: none;">
        <div class="cookie-settings-content">
            <div class="cookie-settings-header">
                <h3>Cookies Settings</h3>
                <button id="close-cookie-settings" class="close-btn">
                    <svg viewBox="0 0 24 24" fill="currentColor" style="width: 20px; height: 20px;">
                        <path d="M18 6L6 18M6 6l12 12"/>
                    </svg>
                </button>
            </div>
            <div class="cookie-settings-body">
                <div class="cookie-category">
                    <div class="cookie-category-header">
                        <h4>Essential Cookies</h4>
                        <label class="cookie-toggle disabled">
                            <input type="checkbox" checked disabled>
                            <span class="slider"></span>
                        </label>
                    </div>
                    <p>These cookies are necessary for the website to function and cannot be switched off in our systems.</p>
                </div>
                <div class="cookie-category">
                    <div class="cookie-category-header">
                        <h4>Analytics Cookies</h4>
                        <label class="cookie-toggle">
                            <input type="checkbox" id="analytics-cookies" checked>
                            <span class="slider"></span>
                        </label>
                    </div>
                    <p>These cookies allow us to count visits and traffic sources so we can measure and improve the performance of our site.</p>
                </div>
                <div class="cookie-category">
                    <div class="cookie-category-header">
                        <h4>Advertising Cookies</h4>
                        <label class="cookie-toggle">
                            <input type="checkbox" id="advertising-cookies" checked>
                            <span class="slider"></span>
                        </label>
                    </div>
                    <p>These cookies are used to deliver advertisements more relevant to you and your interests.</p>
                </div>
            </div>
            <div class="cookie-settings-footer">
                <button id="save-cookie-preferences" class="cookie-btn primary">Save Preferences</button>
                <button id="accept-all-settings" class="cookie-btn secondary">Accept All</button>
            </div>
        </div>
    </div>

    <script src="/v2/script.js"></script>
    <script>
        function checkConsentStatus() {
            const consent = window.cookieConsent?.getConsent();
            const statusDisplay = document.getElementById('status-display');
            
            if (!consent) {
                statusDisplay.innerHTML = '<div class="status denied">No consent stored</div>';
                return;
            }
            
            const statusHtml = `
                <div class="status ${consent.essential ? 'granted' : 'denied'}">Essential: ${consent.essential ? 'Granted' : 'Denied'}</div>
                <div class="status ${consent.analytics ? 'granted' : 'denied'}">Analytics: ${consent.analytics ? 'Granted' : 'Denied'}</div>
                <div class="status ${consent.advertising ? 'granted' : 'denied'}">Advertising: ${consent.advertising ? 'Granted' : 'Denied'}</div>
                <div style="margin-top: 10px; font-size: 12px; color: #666;">
                    Timestamp: ${new Date(consent.timestamp).toLocaleString()}
                </div>
            `;
            
            statusDisplay.innerHTML = statusHtml;
        }
        
        function clearAllData() {
            localStorage.clear();
            location.reload();
        }
        
        // Auto-check status on page load
        setTimeout(checkConsentStatus, 1000);
    </script>
</body>
</html>
