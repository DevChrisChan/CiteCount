<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IB Candidate - Results</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #fff;
            color: #333;
        }

        .header {
            background-color: #e8eef5;
            padding: 20px 40px;
            border-bottom: 3px solid #005a9c;
        }

        .header h1 {
            color: #005a9c;
            font-size: 42px;
            font-weight: 300;
            letter-spacing: -0.5px;
        }

        .nav-tabs {
            background-color: #e8eef5;
            padding: 0 40px;
            display: flex;
            gap: 40px;
            border-bottom: 1px solid #ddd;
        }

        .nav-tab {
            padding: 15px 0;
            color: #005a9c;
            text-decoration: none;
            font-size: 16px;
            border-bottom: 3px solid transparent;
            transition: border-color 0.3s;
        }

        .nav-tab:hover {
            border-bottom-color: #005a9c;
        }

        .nav-tab.active {
            border-bottom-color: #005a9c;
            font-weight: 600;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        .results-header {
            margin-bottom: 30px;
        }

        .results-header h2 {
            color: #005a9c;
            font-size: 36px;
            font-weight: 300;
            margin-bottom: 20px;
        }

        .notice-box {
            background-color: #d9e7f5;
            padding: 20px;
            border-left: 4px solid #005a9c;
            margin-bottom: 30px;
        }

        .notice-box p {
            line-height: 1.6;
            color: #333;
        }

        .notice-box .timestamp {
            font-weight: 600;
            margin-bottom: 10px;
        }

        .session-tab {
            display: inline-block;
            padding: 12px 24px;
            background-color: #fff;
            color: #005a9c;
            border: 2px solid #005a9c;
            border-bottom: none;
            font-weight: 600;
            margin-bottom: -2px;
        }

        .results-card {
            background-color: #f5f5f5;
            padding: 30px;
            border-radius: 4px;
            margin-bottom: 20px;
        }

        .student-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }

        .student-name h3 {
            font-size: 24px;
            font-weight: 400;
            color: #333;
            margin-bottom: 5px;
        }

        .student-id {
            color: #666;
            font-size: 14px;
        }

        .diploma-badge {
            font-size: 20px;
            font-weight: 600;
            color: #333;
        }

        .results-table {
            background-color: #fff;
            border-radius: 4px;
            overflow: hidden;
        }

        .table-header {
            display: grid;
            grid-template-columns: 2fr 1fr 1fr 1fr;
            padding: 15px 20px;
            background-color: #fff;
            border-bottom: 1px solid #e0e0e0;
            font-weight: 600;
        }

        .hide-all-btn {
            text-align: right;
        }

        .hide-all-btn button {
            background-color: #005a9c;
            color: #fff;
            border: none;
            padding: 8px 24px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            border-radius: 3px;
            transition: all 0.3s;
        }

        .hide-all-btn button:hover {
            background-color: #004a7c;
        }

        .subject-row {
            display: grid;
            grid-template-columns: 2fr 1fr 1fr 1fr;
            padding: 20px;
            border-bottom: 1px solid #e0e0e0;
            align-items: center;
        }

        .subject-row:last-child {
            border-bottom: none;
        }

        .grade-cell {
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .subject-info .session {
            color: #666;
            font-size: 13px;
            margin-bottom: 5px;
        }

        .subject-info .subject-name {
            color: #005a9c;
            font-weight: 600;
            font-size: 16px;
        }

        .grade-circle {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            font-weight: 700;
            color: #fff;
            background-color: #8bc34a;
        }

        .grade-6 {
            background-color: #8bc34a;
        }

        .grade-a {
            background-color: #8bc34a;
        }

        .grade-7 {
            background-color: #8bc34a;
        }

        .grade-5 {
            background-color: #8bc34a;
        }

        .grade-hidden {
            background-color: transparent;
            border: 2px solid #000;
            color: #000;
        }

        .details-btn {
            background-color: #005a9c;
            color: #fff;
            border: none;
            padding: 10px 24px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            border-radius: 3px;
            transition: all 0.3s;
        }

        .details-btn:hover {
            background-color: #004a7c;
        }

        .reveal-text {
            color: #666;
            font-size: 14px;
            cursor: pointer;
        }

        .reveal-text:hover {
            color: #005a9c;
        }

        .hide-btn {
            background-color: transparent;
            color: #005a9c;
            border: 2px solid #005a9c;
            padding: 8px 24px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            border-radius: 3px;
            transition: all 0.3s;
        }

        .hide-btn:hover {
            background-color: #005a9c;
            color: #fff;
        }

        .hide-btn.reveal-state {
            background-color: #005a9c;
            color: #fff;
            border: none;
        }

        .hide-btn.reveal-state:hover {
            background-color: #004a7c;
        }

        .summary-container {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-top: 30px;
        }

        .summary-box {
            background-color: #fff;
            padding: 30px;
            border-radius: 4px;
            text-align: center;
            position: relative;
        }

        .summary-box.hidden-box {
            padding: 20px;
        }

        .summary-box .box-reveal-btn {
            background-color: #005a9c;
            color: #fff;
            border: none;
            padding: 10px 24px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            border-radius: 3px;
            transition: all 0.3s;
        }

        .summary-box .box-reveal-btn:hover {
            background-color: #004a7c;
        }

        .hidden-content {
            display: none;
        }

        .summary-label {
            color: #666;
            font-size: 16px;
            margin-bottom: 10px;
            font-weight: 600;
        }

        .summary-value {
            color: #005a9c;
            font-size: 36px;
            font-weight: 700;
        }

        .summary-value.result {
            font-size: 24px;
            line-height: 1.3;
        }

        /* Modal styles */
        .redirect-modal {
            display: none;
            position: fixed;
            z-index: 10000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.6);
            animation: fadeIn 0.3s;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .redirect-modal-content {
            background-color: #fff;
            margin: 15% auto;
            padding: 40px;
            border-radius: 12px;
            width: 90%;
            max-width: 500px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            text-align: center;
            animation: slideDown 0.4s;
        }

        @keyframes slideDown {
            from {
                transform: translateY(-100px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .redirect-modal-content h2 {
            color: #005a9c;
            margin-bottom: 20px;
            font-size: 28px;
        }

        .redirect-modal-content p {
            color: #666;
            line-height: 1.6;
            margin-bottom: 30px;
            font-size: 16px;
        }

        .redirect-modal-btn {
            background-color: #005a9c;
            color: #fff;
            border: none;
            padding: 15px 40px;
            font-size: 16px;
            font-weight: 600;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .redirect-modal-btn:hover {
            background-color: #004a7c;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 90, 156, 0.3);
        }

        /* Demo Modal */
        .demo-modal {
            display: none;
            position: fixed;
            z-index: 10000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
        }

        .demo-modal-content {
            background-color: #fff;
            margin: 20% auto;
            padding: 30px;
            border-radius: 8px;
            width: 90%;
            max-width: 400px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
            text-align: center;
        }

        .demo-modal-content h3 {
            color: #005a9c;
            margin-bottom: 15px;
            font-size: 22px;
        }

        .demo-modal-content p {
            color: #666;
            line-height: 1.6;
            margin-bottom: 20px;
        }

        .demo-modal-btn {
            background-color: #005a9c;
            color: #fff;
            border: none;
            padding: 10px 30px;
            font-size: 14px;
            font-weight: 600;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .demo-modal-btn:hover {
            background-color: #004a7c;
        }
    </style>
</head>
<body>
    <!-- Redirect Modal -->
    <div id="redirectModal" class="redirect-modal">
        <div class="redirect-modal-content">
            <h2>⚠️ No Data Found</h2>
            <p>It looks like you accessed this page directly without generating results. Please use the setup page to customize and generate your results.</p>
            <button class="redirect-modal-btn" onclick="window.location.href='index.html'">Go to Setup Page</button>
        </div>
    </div>

    <div class="header">
        <h1>IB Candidate</h1>
    </div>

    <nav class="nav-tabs">
        <a href="#" class="nav-tab">Home</a>
        <a href="#" class="nav-tab">Coursework</a>
        <a href="#" class="nav-tab active">Results</a>
        <a href="#" class="nav-tab">Transcripts</a>
    </nav>

    <div class="container">
        <div class="results-header">
            <h2>Results</h2>
            
            <div class="notice-box">
                <p class="timestamp" id="dynamic-time"></p>
                <p>Any results displayed on this page are provisional. A print of this screen or screenshot cannot be used as an official results document and will not be accepted for university entrance or job applications. Your official results will be provided through IB certification.</p>
            </div>
        </div>

        <div class="session-tab">MAY 2025</div>

        <div class="results-card">
            <div class="student-info">
                <div class="student-name">
                    <h3>Your Name Here</h3>
                    <p class="student-id">000000 0000 (ABC123)</p>
                </div>
                <div class="diploma-badge">DIPLOMA</div>
            </div>

            <div class="results-table">
                <div class="table-header">
                    <div>Session/Subject</div>
                    <div>Grade</div>
                    <div>Details</div>
                    <div class="hide-all-btn">
                        <button>Hide all</button>
                    </div>
                </div>

                <div class="subject-row">
                    <div class="subject-info">
                        <div class="session">MAY 2025</div>
                        <div class="subject-name">ENGLISH A: Lang and Literature SL</div>
                    </div>
                    <div class="grade-cell">
                        <div class="grade-circle grade-7">7</div>
                    </div>
                    <div>
                        <button class="details-btn">View details</button>
                    </div>
                    <div style="text-align: right;">
                        <button class="hide-btn">Hide</button>
                    </div>
                </div>

                <div class="subject-row">
                    <div class="subject-info">
                        <div class="session">MAY 2025</div>
                        <div class="subject-name">LANGUAGE B EE</div>
                    </div>
                    <div class="grade-cell">
                        <div class="grade-circle grade-a">A</div>
                    </div>
                    <div>
                        <button class="details-btn">View details</button>
                    </div>
                    <div style="text-align: right;">
                        <button class="hide-btn">Hide</button>
                    </div>
                </div>

                <div class="subject-row">
                    <div class="subject-info">
                        <div class="session">MAY 2025</div>
                        <div class="subject-name">LANGUAGE B HL</div>
                    </div>
                    <div class="grade-cell">
                        <div class="grade-circle grade-7">7</div>
                    </div>
                    <div>
                        <button class="details-btn">View details</button>
                    </div>
                    <div style="text-align: right;">
                        <button class="hide-btn">Hide</button>
                    </div>
                </div>

                <div class="subject-row">
                    <div class="subject-info">
                        <div class="session">MAY 2025</div>
                        <div class="subject-name">ECONOMICS SL in ENGLISH</div>
                    </div>
                    <div class="grade-cell">
                        <div class="grade-circle grade-7">7</div>
                    </div>
                    <div>
                        <button class="details-btn">View details</button>
                    </div>
                    <div style="text-align: right;">
                        <button class="hide-btn">Hide</button>
                    </div>
                </div>

                <div class="subject-row">
                    <div class="subject-info">
                        <div class="session">MAY 2025</div>
                        <div class="subject-name">BIOLOGY HL in ENGLISH</div>
                    </div>
                    <div class="grade-cell">
                        <div class="grade-circle grade-7">7</div>
                    </div>
                    <div>
                        <button class="details-btn">View details</button>
                    </div>
                    <div style="text-align: right;">
                        <button class="hide-btn">Hide</button>
                    </div>
                </div>

                <div class="subject-row">
                    <div class="subject-info">
                        <div class="session">MAY 2025</div>
                        <div class="subject-name">CHEMISTRY HL in ENGLISH</div>
                    </div>
                    <div class="grade-cell">
                        <div class="grade-circle grade-7">7</div>
                    </div>
                    <div>
                        <button class="details-btn">View details</button>
                    </div>
                    <div style="text-align: right;">
                        <button class="hide-btn">Hide</button>
                    </div>
                </div>

                <div class="subject-row">
                    <div class="subject-info">
                        <div class="session">MAY 2025</div>
                        <div class="subject-name">MATHEMATICS APPLICATIONS AND A SL in ENGLISH</div>
                    </div>
                    <div class="grade-cell">
                        <div class="grade-circle grade-7">7</div>
                    </div>
                    <div>
                        <button class="details-btn">View details</button>
                    </div>
                    <div style="text-align: right;">
                        <button class="hide-btn">Hide</button>
                    </div>
                </div>

                <div class="subject-row">
                    <div class="subject-info">
                        <div class="session">MAY 2025</div>
                        <div class="subject-name">THEORY KNOWL. TK in ENGLISH</div>
                    </div>
                    <div class="grade-cell">
                        <div class="grade-circle grade-a">A</div>
                    </div>
                    <div>
                        <button class="details-btn">View details</button>
                    </div>
                    <div style="text-align: right;">
                        <button class="hide-btn">Hide</button>
                    </div>
                </div>
            </div>

            <div class="summary-container">
                <div class="summary-box">
                    <div class="summary-label">EE/TOK points</div>
                    <div class="box-content">
                        <div class="summary-value">3</div>
                    </div>
                    <button class="box-reveal-btn hidden-content">Reveal</button>
                </div>
                <div class="summary-box">
                    <div class="summary-label">Total points</div>
                    <div class="box-content">
                        <div class="summary-value">45</div>
                    </div>
                    <button class="box-reveal-btn hidden-content">Reveal</button>
                </div>
                <div class="summary-box">
                    <div class="summary-label">Result</div>
                    <div class="box-content">
                        <div class="summary-value result">Diploma<br>awarded</div>
                    </div>
                    <button class="box-reveal-btn hidden-content">Reveal</button>
                </div>
            </div>

            <p style="margin-top: 20px; color: #333; font-size: 14px;">All CAS (Creativity-Activity-Service) requirements have been fully satisfied.</p>
        </div>

        <div id="disclaimer" style="max-width: 1200px; margin: 20px auto; padding: 20px; background-color: #fff3cd; border-left: 4px solid #ffc107; border-radius: 4px;">
            <p style="color: #856404; font-size: 13px; line-height: 1.6; margin: 0;">
                <strong>Disclaimer:</strong> This page is for motivational and informational purposes only. The results displayed here are not official IB results and should not be used for any formal applications, university admissions, or employment purposes. This is a replica created for educational demonstration. Official IB results can only be obtained through the International Baccalaureate Organization's official channels. Always verify your results through legitimate IB certification processes. The creators of this page are not affiliated with the International Baccalaureate Organization.
            </p>
        </div>
    </div>

    <!-- Demo Modal -->
    <div id="demoModal" class="demo-modal">
        <div class="demo-modal-content">
            <h3>ℹ️ Demo Only</h3>
            <p>This is just a demonstration page. The "View details" feature is not functional as this is a replica for display purposes only.</p>
            <button class="demo-modal-btn" onclick="closeDemoModal()">Got it</button>
        </div>
    </div>

    <script>
        // Parse URL parameters and populate data
        function loadDataFromURL() {
            const params = new URLSearchParams(window.location.search);
                        // Check if any parameters exist
            if (!params.has('name') && !params.has('subjects')) {
                // Show modal if no data
                document.getElementById('redirectModal').style.display = 'block';
                return;
            }
                        // Handle navbar visibility
            if (params.get('navbar') === '0') {
                // Navbar would be hidden if added
            }
            
            // Handle footer visibility
            if (params.get('footer') === '0') {
                // Footer would be hidden if added
            }
            
            // Handle disclaimer visibility
            if (params.get('disclaimer') === '0') {
                const disclaimer = document.getElementById('disclaimer');
                if (disclaimer) {
                    disclaimer.style.display = 'none';
                }
            }
            
            if (params.has('name')) {
                document.querySelector('.student-name h3').textContent = params.get('name');
            }
            
            if (params.has('id')) {
                document.querySelector('.student-id').textContent = params.get('id');
            }
            
            if (params.has('session')) {
                document.querySelector('.session-tab').textContent = params.get('session');
                document.querySelectorAll('.subject-info .session').forEach(el => {
                    el.textContent = params.get('session');
                });
            }
            
            if (params.has('subjects')) {
                try {
                    const subjects = JSON.parse(params.get('subjects'));
                    const subjectRows = document.querySelectorAll('.subject-row');
                    subjects.forEach((subject, index) => {
                        if (subjectRows[index]) {
                            const subjectNameEl = subjectRows[index].querySelector('.subject-name');
                            const gradeCircleEl = subjectRows[index].querySelector('.grade-circle');
                            if (subjectNameEl) {
                                subjectNameEl.textContent = subject.name;
                            }
                            if (gradeCircleEl) {
                                gradeCircleEl.textContent = subject.grade;
                            }
                        }
                    });
                } catch (e) {
                    console.error('Error parsing subjects:', e);
                }
            }
            
            if (params.has('eetok')) {
                document.querySelector('.summary-value').textContent = params.get('eetok');
            }
            
            if (params.has('total')) {
                document.querySelectorAll('.summary-value')[1].textContent = params.get('total');
            }
            
            if (params.has('result')) {
                const resultEl = document.querySelectorAll('.summary-value')[2];
                if (params.get('result') === 'awarded') {
                    resultEl.innerHTML = 'Diploma<br>awarded';
                } else {
                    resultEl.innerHTML = 'Diploma<br>not awarded';
                }
            }
        }
        
        // Load data on page load
        loadDataFromURL();

        // Demo modal functions
        function showDemoModal() {
            document.getElementById('demoModal').style.display = 'block';
        }

        function closeDemoModal() {
            document.getElementById('demoModal').style.display = 'none';
        }

        // Dynamic timestamp
        function updateTimestamp() {
            const now = new Date();
            const months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];
            const day = now.getDate();
            const month = months[now.getMonth()];
            const year = now.getFullYear();
            const hours = String(now.getHours()).padStart(2, '0');
            const minutes = String(now.getMinutes()).padStart(2, '0');
            const seconds = String(now.getSeconds()).padStart(2, '0');
            
            const timestamp = `${day} ${month} ${year} ${hours}:${minutes}:${seconds} GMT.`;
            document.getElementById('dynamic-time').textContent = timestamp;
        }
        
        updateTimestamp();
        setInterval(updateTimestamp, 1000);

        // Track original grades and button text
        const subjectData = [];
        document.querySelectorAll('.subject-row').forEach((row, index) => {
            const gradeCircle = row.querySelector('.grade-circle');
            const detailsContainer = row.children[2]; // The details cell
            subjectData.push({
                row: row,
                gradeCircle: gradeCircle,
                detailsContainer: detailsContainer,
                originalGrade: gradeCircle.textContent,
                originalClass: gradeCircle.className,
                hidden: false
            });
        });

        // Track summary boxes
        const summaryBoxes = document.querySelectorAll('.summary-box');
        
        // Hide all functionality
        let allHidden = false;
        document.querySelector('.hide-all-btn button').addEventListener('click', function() {
            allHidden = !allHidden;
            
            subjectData.forEach(data => {
                if (allHidden) {
                    data.gradeCircle.textContent = '?';
                    data.gradeCircle.className = 'grade-circle grade-hidden';
                    // Replace button with text
                    data.detailsContainer.innerHTML = '<span class="reveal-text">Click Reveal to see</span>';
                    data.hidden = true;
                    const hideBtn = data.row.querySelector('.hide-btn');
                    hideBtn.textContent = 'Reveal';
                    hideBtn.classList.add('reveal-state');
                } else {
                    data.gradeCircle.textContent = data.originalGrade;
                    data.gradeCircle.className = data.originalClass;
                    // Restore button
                    data.detailsContainer.innerHTML = '<button class="details-btn">View details</button>';
                    data.hidden = false;
                    const hideBtn = data.row.querySelector('.hide-btn');
                    hideBtn.textContent = 'Hide';
                    hideBtn.classList.remove('reveal-state');
                }
            });
            
            // Show/hide summary boxes
            summaryBoxes.forEach(box => {
                const content = box.querySelector('.box-content');
                const revealBtn = box.querySelector('.box-reveal-btn');
                if (allHidden) {
                    content.classList.add('hidden-content');
                    revealBtn.classList.remove('hidden-content');
                    box.classList.add('hidden-box');
                } else {
                    content.classList.remove('hidden-content');
                    revealBtn.classList.add('hidden-content');
                    box.classList.remove('hidden-box');
                }
            });
            
            this.textContent = allHidden ? 'Reveal all' : 'Hide all';
        });

        // Individual hide button functionality
        document.querySelectorAll('.hide-btn').forEach((btn, index) => {
            btn.addEventListener('click', function() {
                const data = subjectData[index];
                data.hidden = !data.hidden;
                
                if (data.hidden) {
                    data.gradeCircle.textContent = '?';
                    data.gradeCircle.className = 'grade-circle grade-hidden';
                    data.detailsContainer.innerHTML = '<span class="reveal-text">Click Reveal to see</span>';
                    this.textContent = 'Reveal';
                    this.classList.add('reveal-state');
                } else {
                    data.gradeCircle.textContent = data.originalGrade;
                    data.gradeCircle.className = data.originalClass;
                    data.detailsContainer.innerHTML = '<button class="details-btn">View details</button>';
                    this.textContent = 'Hide';
                    this.classList.remove('reveal-state');
                }
            });
        });

        // Individual summary box reveal buttons
        summaryBoxes.forEach(box => {
            const revealBtn = box.querySelector('.box-reveal-btn');
            const content = box.querySelector('.box-content');
            
            revealBtn.addEventListener('click', function() {
                content.classList.remove('hidden-content');
                revealBtn.classList.add('hidden-content');
                box.classList.remove('hidden-box');
            });
        });

        // View details / Reveal functionality - use event delegation
        document.querySelector('.results-table').addEventListener('click', function(e) {
            if (e.target.classList.contains('details-btn')) {
                e.preventDefault();
                showDemoModal();
            } else if (e.target.classList.contains('reveal-text')) {
                // Find which row this belongs to
                const row = e.target.closest('.subject-row');
                const rowIndex = Array.from(document.querySelectorAll('.subject-row')).indexOf(row);
                const data = subjectData[rowIndex];
                
                // Reveal the grade
                data.gradeCircle.textContent = data.originalGrade;
                data.gradeCircle.className = data.originalClass;
                data.detailsContainer.innerHTML = '<button class="details-btn">View details</button>';
                data.hidden = false;
                
                const hideBtn = data.row.querySelector('.hide-btn');
                hideBtn.textContent = 'Hide';
                hideBtn.classList.remove('reveal-state');
            }
        });

        // Default to hide all on load
        document.querySelector('.hide-all-btn button').click();
    </script>
</body>
</html>